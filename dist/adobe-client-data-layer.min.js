"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function a(i,c,u){function f(e,t){if(!c[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=c[e]={exports:{}};i[e][0].call(o.exports,function(t){return f(i[e][1][t]||t)},o,o.exports,a,i,c,u)}return c[e].exports}for(var s="function"==typeof require&&require,t=0;t<u.length;t++)f(u[t]);return f}({1:[function(t,un,fn){(function(cn){(function(){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}function a(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function f(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function h(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function t(e){return function(t){return e(t)}}function b(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function e(e){var n=Object;return function(t){return e(n(t))}}function _(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function r(){}function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new c;++e<n;)this.add(t[e])}function d(t){this.size=(this.__data__=new i(t)).size}function u(t,e){var n=Xe(t),r=!n&&Qe(t),o=!n&&!r&&Ye(t),a=!n&&!r&&!o&&en(t);if(n=n||r||o||a){r=t.length;for(var i=String,c=-1,u=Array(r);++c<r;)u[c]=i(c);r=u}else r=[];var f;i=r.length;for(f in t)!e&&!Zt.call(t,f)||n&&("length"==f||o&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||J(f,i))||r.push(f);return r}function g(t,e,n){(n===St||at(t[e],n))&&(n!==St||e in t)||l(t,e,n)}function y(t,e,n){var r=t[e];Zt.call(t,e)&&at(r,n)&&(n!==St||e in t)||l(t,e,n)}function s(t,e){for(var n=t.length;n--;)if(at(t[n][0],e))return n;return-1}function l(t,e,n){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function j(n,r,o,t,e,a){var i,c=1&r,u=2&r,f=4&r;if(o&&(i=e?o(n,t,e,a):o(n)),i!==St)return i;if(!st(n))return n;if(t=Xe(n)){if(i=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Zt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(n),!c)return C(n,i)}else{var s=Ve(n),l="[object Function]"==s||"[object GeneratorFunction]"==s;if(Ye(n))return N(n,c);if("[object Object]"==s||"[object Arguments]"==s||l&&!e){if(i=u||l?{}:G(n),!c)return u?function(t,e){return D(t,Re(t),e)}(n,function(t,e){return t&&D(e,gt(e),t)}(i,n)):function(t,e){return D(t,Pe(t),e)}(n,function(t,e){return t&&D(e,dt(e),t)}(i,n))}else{if(!Ct[s])return e?n:{};i=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return F(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return e=n?F(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return z(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(e=new t.constructor(t.source,kt.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new r;case"[object Symbol]":return ke?Object(ke.call(t)):{}}}(n,s,c)}}if(e=(a=a||new d).get(n))return e;if(a.set(n,i),tn(n))return n.forEach(function(t){i.add(j(t,r,o,t,n,a))}),i;if(Ze(n))return n.forEach(function(t,e){i.set(e,j(t,r,o,e,n,a))}),i;u=f?u?H:V:u?gt:dt;var p=t?St:u(n);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(p||n,function(t,e){p&&(t=n[e=t]),y(i,e,j(t,r,o,e,n,a))}),i}function p(t,e){for(var n=0,r=(e=k(e,t)).length;null!=t&&n<r;)t=t[Z(e[n++])];return n&&n==r?t:St}function m(t,e,n){return e=e(t),Xe(t)?e:f(e,n(t))}function A(t){if(null==t)t=t===St?"[object Undefined]":"[object Null]";else if(ye&&ye in Object(t)){var e=Zt.call(t,ye),n=t[ye];try{t[ye]=St;var r=!0}catch(t){}var o=ee.call(t);r&&(e?t[ye]=n:delete t[ye]),t=o}else t=ee.call(t);return t}function O(t,e){return null!=t&&Zt.call(t,e)}function w(t,e){return null!=t&&e in Object(t)}function E(t){return lt(t)&&"[object Arguments]"==A(t)}function S(t,e,n,r,o){if(t===e)e=!0;else if(null==t||null==e||!lt(t)&&!lt(e))e=t!=t&&e!=e;else t:{var a,i,c=Xe(t),u=Xe(e),f="[object Object]"==(a="[object Arguments]"==(a=c?"[object Array]":Ve(t))?"[object Object]":a);u="[object Object]"==(i="[object Arguments]"==(i=u?"[object Array]":Ve(e))?"[object Object]":i);if((i=a==i)&&Ye(t)){if(!Ye(e)){e=!1;break t}f=!(c=!0)}if(i&&!f)o=o||new d,e=c||en(t)?R(t,e,n,r,S,o):function(t,e,n,r,o,a,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!a(new ie(t),new ie(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return at(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=b;case"[object Set]":if(c=c||_,t.size!=e.size&&!(1&r))break;return(n=i.get(t))?n==e:(r|=2,i.set(t,e),e=R(c(t),c(e),r,o,a,i),i.delete(t),e);case"[object Symbol]":if(ke)return ke.call(t)==ke.call(e)}return!1}(t,e,a,n,r,S,o);else{if(!(1&n)&&(c=f&&Zt.call(t,"__wrapped__"),a=u&&Zt.call(e,"__wrapped__"),c||a)){e=S(t=c?t.value():t,e=a?e.value():e,n,r,o=o||new d);break t}if(i)e:if(o=o||new d,c=1&n,a=V(t),u=a.length,i=V(e).length,u==i||c){for(f=u;f--;){var s=a[f];if(!(c?s in e:Zt.call(e,s))){e=!1;break e}}if((i=o.get(t))&&o.get(e))e=i==e;else{i=!0,o.set(t,e),o.set(e,t);for(var l=c;++f<u;){var p=t[s=a[f]],y=e[s];if(r)var h=c?r(y,p,s,e,t,o):r(p,y,s,t,e,o);if(h===St?p!==y&&!S(p,y,n,r,o):!h){i=!1;break}l=l||"constructor"==s}i&&!l&&((n=t.constructor)!=(r=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(i=!1)),o.delete(t),o.delete(e),e=i}}else e=!1;else e=!1}}return e}function L(t){return"function"==typeof t?t:null==t?mt:"object"==_typeof(t)?Xe(t)?function(n,r){return K(n)&&r==r&&!st(r)?X(Z(n),r):function(t){var e=_t(t,n);return e===St&&e===r?vt(t,n):S(r,e,3)}}(t[0],t[1]):function(e){var n=function(t){for(var e=dt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,o==o&&!st(o)]}return e}(e);return 1==n.length&&n[0][2]?X(n[0][0],n[0][1]):function(t){return t===e||function(t,e){var n=e.length,r=n;if(null==t)return!r;for(t=Object(t);n--;){if((o=e[n])[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<r;){var o,a=(o=e[n])[0],i=t[a],c=o[1];if(o[2]){if(i===St&&!(a in t))return!1}else if(o=new d,void 0!==St||!S(c,i,3,void 0,o))return!1}return!0}(t,n)}}(t):Ot(t)}function T(t){if(!Q(t))return ve(t);var e,n=[];for(e in Object(t))Zt.call(t,e)&&"constructor"!=e&&n.push(e);return n}function I(s,l,p,y,h){s!==l&&De(l,function(t,e){if(st(t)){var n=h=h||new d,r="__proto__"==e?St:s[e],o="__proto__"==e?St:l[e];if(f=n.get(o))g(s,e,f);else{var a=(f=y?y(r,o,e+"",s,l,n):St)===St;if(a){var i=Xe(o),c=!i&&Ye(o),u=!i&&!c&&en(o),f=o;i||c||u?f=Xe(r)?r:ct(r)?C(r):c?N(o,!(a=!1)):u?z(o,!(a=!1)):[]:pt(o)||Qe(o)?Qe(f=r)?f=ht(r):(!st(r)||p&&ut(r))&&(f=G(o)):a=!1}a&&(n.set(o,f),I(f,o,p,y,n),n.delete(o)),g(s,e,f)}}else(n=y?y("__proto__"==e?St:s[e],t,e+"",s,l,h):St)===St&&(n=t),g(s,e,n)},gt)}function M(t){if("string"==typeof t)return t;if(Xe(t))return a(t,M)+"";if(yt(t))return Ne?Ne.call(t):"";var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function x(t,e){var n;if((e=k(e,t)).length<2)n=t;else{var r=0,o=-1,a=-1,i=(n=e).length;for(r<0&&(r=i<-r?0:i+r),(o=i<o?i:o)<0&&(o+=i),i=o<r?0:o-r>>>0,r>>>=0,o=Array(i);++a<i;)o[a]=n[a+r];n=p(t,o)}null==(t=n)||delete t[Z(nt(e))]}function k(t,e){return Xe(t)?t:K(t,e)?[t]:Je(bt(t))}function N(t,e){if(e)return t.slice();var n=t.length;n=ce?ce(n):new t.constructor(n);return t.copy(n),n}function F(t){var e=new t.constructor(t.byteLength);return new ie(e).set(new ie(t)),e}function z(t,e){return new t.constructor(e?F(t.buffer):t.buffer,t.byteOffset,t.length)}function C(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}function D(t,e,n){var r=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var i=e[o],c=St;c===St&&(c=t[i]),r?l(n,i,c):y(n,i,c)}return n}function U(f){return function(t){return qe(Y(t,void 0,mt),t+"")}(function(t,e){var n,r=-1,o=e.length,a=1<o?e[o-1]:St,i=2<o?e[2]:St;a=3<f.length&&"function"==typeof a?(o--,a):St;if(n=i){n=e[0];var c=e[1];if(st(i)){var u=_typeof(c);n=!!("number"==u?it(i)&&J(c,i.length):"string"==u&&c in i)&&at(i[c],n)}else n=!1}for(n&&(a=o<3?St:a,o=1),t=Object(t);++r<o;)(i=e[r])&&f(t,i,r,a);return t})}function P(t){return pt(t)?St:t}function R(t,e,n,r,o,a){var i=1&n,c=t.length;if(c!=(u=e.length)&&!(i&&c<u))return!1;if((u=a.get(t))&&a.get(e))return u==e;var u=-1,f=!0,s=2&n?new v:St;for(a.set(t,e),a.set(e,t);++u<c;){var l=t[u],p=e[u];if(r)var y=i?r(p,l,u,e,t,a):r(l,p,u,t,e,a);if(y!==St){if(y)continue;f=!1;break}if(s){if(!h(e,function(t,e){if(!s.has(e)&&(l===t||o(l,t,n,r,a)))return s.push(e)})){f=!1;break}}else if(l!==p&&!o(l,p,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function V(t){return m(t,dt,Pe)}function H(t){return m(t,gt,Re)}function B(t,e){var n=t.__data__,r=_typeof(e);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function $(t,e){var n=null==t?St:t[e];return!st(n)||te&&te in n||!(ut(n)?re:Nt).test(tt(n))?St:n}function W(t,e,n){for(var r=-1,o=(e=k(e,t)).length,a=!1;++r<o;){var i=Z(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&ft(o)&&J(i,o)&&(Xe(t)||Qe(t))}function G(t){return"function"!=typeof t.constructor||Q(t)?{}:Fe(ue(t))}function q(t){return Xe(t)||Qe(t)||!!(pe&&t&&t[pe])}function J(t,e){var n=_typeof(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ft.test(t))&&-1<t&&0==t%1&&t<e}function K(t,e){if(Xe(t))return!1;var n=_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!yt(t))||It.test(t)||!Tt.test(t)||null!=e&&t in Object(e)}function Q(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Qt)}function X(e,n){return function(t){return null!=t&&t[e]===n&&(n!==St||e in Object(t))}}function Y(o,a,i){return a=de(a===St?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=de(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];for(e=-1,n=Array(a+1);++e<a;)n[e]=t[e];return n[a]=i(r),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(o,this,n)}}function Z(t){if("string"==typeof t||yt(t))return t;var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function tt(t){if(null==t)return"";try{return Yt.call(t)}catch(t){}return t+""}function et(t){return null!=t&&t.length?function t(e,n,r,o,a){var i=-1,c=e.length;for(r=r||q,a=a||[];++i<c;){var u=e[i];0<n&&r(u)?1<n?t(u,n-1,r,o,a):f(a,u):o||(a[a.length]=u)}return a}(t,1):[]}function nt(t){var e=null==t?0:t.length;return e?t[e-1]:St}function rt(r,o){function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),a.cache=n.set(e,t)||n,t)}if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");return a.cache=new(rt.Cache||c),a}function ot(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function at(t,e){return t===e||t!=t&&e!=e}function it(t){return null!=t&&ft(t.length)&&!ut(t)}function ct(t){return lt(t)&&it(t)}function ut(t){return!!st(t)&&("[object Function]"==(t=A(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function ft(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=9007199254740991}function st(t){var e=_typeof(t);return null!=t&&("object"==e||"function"==e)}function lt(t){return null!=t&&"object"==_typeof(t)}function pt(t){return!(!lt(t)||"[object Object]"!=A(t))&&(null===(t=ue(t))||"function"==typeof(t=Zt.call(t,"constructor")&&t.constructor)&&t instanceof t&&Yt.call(t)==ne)}function yt(t){return"symbol"==_typeof(t)||lt(t)&&"[object Symbol]"==A(t)}function ht(t){return D(t,gt(t))}function bt(t){return null==t?"":M(t)}function _t(t,e,n){return(t=null==t?St:p(t,e))===St?n:t}function vt(t,e){return null!=t&&W(t,e,w)}function dt(t){return it(t)?u(t):T(t)}function gt(t){if(it(t))t=u(t,!0);else if(st(t)){var e,n=Q(t),r=[];for(e in t)("constructor"!=e||!n&&Zt.call(t,e))&&r.push(e);t=r}else{if(e=[],null!=t)for(n in Object(t))e.push(n);t=e}return t}function jt(t){return function(){return t}}function mt(t){return t}function At(t){return L("function"==typeof t?t:j(t,1))}function Ot(t){return K(t)?function(e){return function(t){return null==t?St:t[e]}}(Z(t)):function(e){return function(t){return p(t,e)}}(t)}function wt(){return[]}function Et(){return!1}var St,Lt=1/0,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/\\(\\)?/g,kt=/\w*$/,Nt=/^\[object .+?Constructor\]$/,Ft=/^(?:0|[1-9]\d*)$/,zt={};zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object Boolean]"]=zt["[object DataView]"]=zt["[object Date]"]=zt["[object Error]"]=zt["[object Function]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object WeakMap]"]=!1;var Ct={};Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object DataView]"]=Ct["[object Boolean]"]=Ct["[object Date]"]=Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object Symbol]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object WeakMap]"]=!1;var Dt,Ut="object"==_typeof(cn)&&cn&&cn.Object===Object&&cn,Pt="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,Rt=Ut||Pt||Function("return this")(),Vt="object"==_typeof(fn)&&fn&&!fn.nodeType&&fn,Ht=Vt&&"object"==_typeof(un)&&un&&!un.nodeType&&un,Bt=Ht&&Ht.exports===Vt,$t=Bt&&Ut.process;t:{try{Dt=$t&&$t.binding&&$t.binding("util");break t}catch(t){}Dt=void 0}var Wt,Gt=Dt&&Dt.isMap,qt=Dt&&Dt.isSet,Jt=Dt&&Dt.isTypedArray,Kt=Array.prototype,Qt=Object.prototype,Xt=Rt["__core-js_shared__"],Yt=Function.prototype.toString,Zt=Qt.hasOwnProperty,te=(Wt=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"",ee=Qt.toString,ne=Yt.call(Object),re=RegExp("^"+Yt.call(Zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=Bt?Rt.Buffer:St,ae=Rt.Symbol,ie=Rt.Uint8Array,ce=oe?oe.a:St,ue=e(Object.getPrototypeOf),fe=Object.create,se=Qt.propertyIsEnumerable,le=Kt.splice,pe=ae?ae.isConcatSpreadable:St,ye=ae?ae.toStringTag:St,he=function(){try{var t=$(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),be=Object.getOwnPropertySymbols,_e=oe?oe.isBuffer:St,ve=e(Object.keys),de=Math.max,ge=Date.now,je=$(Rt,"DataView"),me=$(Rt,"Map"),Ae=$(Rt,"Promise"),Oe=$(Rt,"Set"),we=$(Rt,"WeakMap"),Ee=$(Object,"create"),Se=tt(je),Le=tt(me),Te=tt(Ae),Ie=tt(Oe),Me=tt(we),xe=ae?ae.prototype:St,ke=xe?xe.valueOf:St,Ne=xe?xe.toString:St,Fe=function(t){return st(t)?fe?fe(t):(ze.prototype=t,t=new ze,ze.prototype=St,t):{}};function ze(){}o.prototype.clear=function(){this.__data__=Ee?Ee(null):{},this.size=0},o.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},o.prototype.get=function(t){var e=this.__data__;return Ee?"__lodash_hash_undefined__"===(t=e[t])?St:t:Zt.call(e,t)?e[t]:St},o.prototype.has=function(t){var e=this.__data__;return Ee?e[t]!==St:Zt.call(e,t)},o.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ee&&e===St?"__lodash_hash_undefined__":e,this},i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var e=this.__data__;return!((t=s(e,t))<0||(t==e.length-1?e.pop():le.call(e,t,1),--this.size,0))},i.prototype.get=function(t){var e=this.__data__;return(t=s(e,t))<0?St:e[t][1]},i.prototype.has=function(t){return-1<s(this.__data__,t)},i.prototype.set=function(t,e){var n=this.__data__,r=s(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},c.prototype.clear=function(){this.size=0,this.__data__={hash:new o,map:new(me||i),string:new o}},c.prototype.delete=function(t){return t=B(this,t).delete(t),this.size-=t?1:0,t},c.prototype.get=function(t){return B(this,t).get(t)},c.prototype.has=function(t){return B(this,t).has(t)},c.prototype.set=function(t,e){var n=B(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},v.prototype.add=v.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},v.prototype.has=function(t){return this.__data__.has(t)},d.prototype.clear=function(){this.__data__=new i,this.size=0},d.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},d.prototype.get=function(t){return this.__data__.get(t)},d.prototype.has=function(t){return this.__data__.has(t)},d.prototype.set=function(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!me||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new c(r)}return n.set(t,e),this.size=n.size,this};var Ce=function(t,e){if(null==t)return t;if(!it(t))return function(t,e){return t&&De(t,e,dt)}(t,e);for(var n=t.length,r=-1,o=Object(t);++r<n&&!1!==e(o[r],r,o););return t},De=function(t,e,n){for(var r=-1,o=Object(t),a=(n=n(t)).length;a--;){var i=n[++r];if(!1===e(o[i],i,o))break}return t},Ue=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:jt(e),writable:!0})}:mt,Pe=be?function(e){return null==e?[]:(e=Object(e),n(be(e),function(t){return se.call(e,t)}))}:wt,Re=be?function(t){for(var e=[];t;)f(e,Pe(t)),t=ue(t);return e}:wt,Ve=A;(je&&"[object DataView]"!=Ve(new je(new ArrayBuffer(1)))||me&&"[object Map]"!=Ve(new me)||Ae&&"[object Promise]"!=Ve(Ae.resolve())||Oe&&"[object Set]"!=Ve(new Oe)||we&&"[object WeakMap]"!=Ve(new we))&&(Ve=function(t){var e=A(t);if(t=(t="[object Object]"==e?t.constructor:St)?tt(t):"")switch(t){case Se:return"[object DataView]";case Le:return"[object Map]";case Te:return"[object Promise]";case Ie:return"[object Set]";case Me:return"[object WeakMap]"}return e});var He,Be,$e,We,Ge,qe=($e=Ue,Ge=We=0,function(){var t=ge(),e=16-(t-Ge);if(Ge=t,0<e){if(800<=++We)return arguments[0]}else We=0;return $e.apply(St,arguments)}),Je=(Be=(He=rt(He=function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Mt,function(t,e,n,r){o.push(n?r.replace(xt,"$1"):e||t)}),o},function(t){return 500===Be.size&&Be.clear(),t})).cache,He);rt.Cache=c;var Ke,Qe=E(function(){return arguments}())?E:function(t){return lt(t)&&Zt.call(t,"callee")&&!se.call(t,"callee")},Xe=Array.isArray,Ye=_e||Et,Ze=Gt?t(Gt):function(t){return lt(t)&&"[object Map]"==Ve(t)},tn=qt?t(qt):function(t){return lt(t)&&"[object Set]"==Ve(t)},en=Jt?t(Jt):function(t){return lt(t)&&ft(t.length)&&!!zt[A(t)]},nn=U(function(t,e){if(Q(e)||it(e))D(e,dt(e),t);else for(var n in e)Zt.call(e,n)&&y(t,n,e[n])}),rn=U(function(t,e,n){I(t,e,n)}),on=U(function(t,e,n,r){I(t,e,n,r)}),an=qe(Y(Ke=function(e,t){var n={};if(null==e)return n;var r=!1;t=a(t,function(t){return t=k(t,e),r=r||1<t.length,t}),D(e,H(e),n),r&&(n=j(n,7,P));for(var o=t.length;o--;)x(n,t[o]);return n},St,et),Ke+"");r.assign=nn,r.constant=jt,r.flatten=et,r.iteratee=At,r.keys=dt,r.keysIn=gt,r.memoize=rt,r.merge=rn,r.mergeWith=on,r.negate=ot,r.omit=an,r.property=Ot,r.reject=function(t,e){return(Xe(t)?n:function(t,r){var o=[];return Ce(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o})(t,ot(function(t,e){var n=(n=r.iteratee||At)===At?L:n;return arguments.length?n(t,e):n}(e,3)))},r.toPlainObject=ht,r.cloneDeep=function(t){return j(t,5)},r.cloneDeepWith=function(t,e){return j(t,5,e="function"==typeof e?e:St)},r.eq=at,r.get=_t,r.has=function(t,e){return null!=t&&W(t,e,O)},r.hasIn=vt,r.identity=mt,r.isArguments=Qe,r.isArray=Xe,r.isArrayLike=it,r.isArrayLikeObject=ct,r.isBuffer=Ye,r.isEmpty=function(t){if(null==t)return!0;if(it(t)&&(Xe(t)||"string"==typeof t||"function"==typeof t.splice||Ye(t)||en(t)||Qe(t)))return!t.length;var e=Ve(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Q(t))return!T(t).length;for(var n in t)if(Zt.call(t,n))return!1;return!0},r.isEqual=function(t,e){return S(t,e)},r.isFunction=ut,r.isLength=ft,r.isMap=Ze,r.isNull=function(t){return null===t},r.isObject=st,r.isObjectLike=lt,r.isPlainObject=pt,r.isSet=tn,r.isSymbol=yt,r.isTypedArray=en,r.last=nt,r.stubArray=wt,r.stubFalse=Et,r.toString=bt,r.VERSION="4.17.5","function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(Rt._=r,define(function(){return r})):Ht?((Ht.exports=r)._=r,Vt._=r):Rt._=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){e.exports={event:{event:{type:"string"},eventInfo:{type:"object",optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],3:[function(t,e,n){e.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],4:[function(t,e,n){var r=t("../custom-lodash"),a=r.cloneDeep,s=r.cloneDeepWith,l=r.isObject,p=r.isArray,y=r.reject,o=r.mergeWith,i=r.assign,c=r.isNull,u=r.get,f={},h=t("./item"),b=t("./listener"),_=t("./listenerManager"),v=t("./constants");f.Manager=function(t){this._config=t,this._initialize()},f.Manager.prototype._initialize=function(){var t=this;Array.isArray(t._config.dataLayer)||(t._config.dataLayer=[]),t._dataLayer=t._config.dataLayer,t._state={},t._previousStateCopy={},t._listenerManager=_(t),t._augment(),t._processItems()},f.Manager.prototype._updateState=function(t){this._previousStateCopy=a(this._state),this._customMerge(this._state,t.data)},f.Manager.prototype._customMerge=function(t,e){var n=function(f){return function e(t,n,r,o){if(l(t)){if(p(t))return y(t,f).map(function(t){return s(t,e)});for(var a={},i=0,c=Object.keys(t);i<c.length;i++){var u=c[i];f(t[u])||(a[u]=s(t[u],e))}return a}}};o(t,e,function(t,e,n,r){if(null==e)return null}),i(t,function(t,e){return s(t,n(1<arguments.length&&void 0!==e?e:function(t){return!t}))}(t,c))},f.Manager.prototype._augment=function(){var o=this;o._dataLayer.push=function(t){var n=arguments,r=arguments;if(Object.keys(n).forEach(function(t){var e=h(n[t]);switch(e.valid||delete r[t],e.type){case v.itemType.DATA:case v.itemType.EVENT:o._processItem(e);break;case v.itemType.FCTN:delete r[t],o._processItem(e);break;case v.itemType.LISTENER_ON:case v.itemType.LISTENER_OFF:delete r[t]}}),r[0])return Array.prototype.push.apply(this,r)},o._dataLayer.getState=function(t){return t?u(a(o._state),t):a(o._state)},o._dataLayer.addEventListener=function(t,e,n){var r=h({on:t,handler:e,scope:n&&n.scope,path:n&&n.path});o._processItem(r)},o._dataLayer.removeEventListener=function(t,e){var n=h({off:t,handler:e});o._processItem(n)}},f.Manager.prototype._processItems=function(){for(var t=0;t<this._dataLayer.length;t++){var e=h(this._dataLayer[t],t);this._processItem(e),e.type!==v.itemType.LISTENER_ON&&e.type!==v.itemType.LISTENER_OFF&&e.type!==v.itemType.FCTN&&e.valid||(this._dataLayer.splice(t,1),t--)}},f.Manager.prototype._processItem=function(t){var u=this;if(t.valid){({data:function(t){u._updateState(t),u._listenerManager.triggerListeners(t)},fctn:function(t){t.config.call(u._dataLayer,u._dataLayer)},event:function(t){t.data&&u._updateState(t),u._listenerManager.triggerListeners(t)},listenerOn:function(t){var e=b(t);switch(e.scope){case v.listenerScope.PAST:var n,r=_createForOfIteratorHelper(f(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;u._listenerManager.triggerListener(e,o)}}catch(t){r.e(t)}finally{r.f()}break;case v.listenerScope.FUTURE:u._listenerManager.register(e);break;case v.listenerScope.ALL:if(u._listenerManager.register(e)){var a,i=_createForOfIteratorHelper(f(t));try{for(i.s();!(a=i.n()).done;){var c=a.value;u._listenerManager.triggerListener(e,c)}}catch(t){i.e(t)}finally{i.f()}}}},listenerOff:function(t){u._listenerManager.unregister(b(t))}})[t.type](t)}else{var e="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(t.config);console.error(e)}function f(t){return 0===u._dataLayer.length||t.index>u._dataLayer.length-1?[]:u._dataLayer.slice(0,t.index).map(function(t){return h(t)})}},new f.Manager({dataLayer:window.adobeDataLayer}),e.exports=f},{"../custom-lodash":1,"./constants":3,"./item":5,"./listener":6,"./listenerManager":7}],5:[function(t,e,n){var r=t("../custom-lodash"),i=r.isPlainObject,c=r.isEmpty,u=r.omit,f=t("./utils/dataMatchesContraints"),s=t("./ItemConstraints"),l=t("./constants");e.exports=function(t,e){var n=t,r=e,o=Object.keys(s).find(function(t){return f(n,s[t])})||"function"==typeof n&&l.itemType.FCTN||i(n)&&l.itemType.DATA,a=function(){switch(o){case l.itemType.DATA:return n;case l.itemType.EVENT:var t=u(n,Object.keys(s.event));if(!c(t))return t}}();return{config:n,type:o,data:a,valid:!!o,index:r}}},{"../custom-lodash":1,"./ItemConstraints":2,"./constants":3,"./utils/dataMatchesContraints":9}],6:[function(t,e,n){var r=t("./constants");e.exports=function(t){return{event:t.config.on||t.config.off,handler:t.config.handler||null,scope:t.config.scope||t.config.on&&r.listenerScope.ALL||null,path:t.config.path||null}}},{"./constants":3}],7:[function(t,e,n){var r=t("../custom-lodash"),f=r.cloneDeep,s=r.get,i=t("./constants"),l=t("./utils/listenerMatch"),c=t("./utils/indexOfListener");e.exports=function(u){var o={},r=c.bind(null,o);function a(t,e,n){if(l(t,e)){var r=[f(e.config)];if(e.data)if(t.path){var o=s(u._previousStateCopy,t.path),a=s(f(e.data),t.path);r.push(o,a)}else if(!n){var i=u._previousStateCopy,c=f(u._state);r.push(i,c)}t.handler.apply(u._dataLayer,r)}}return{register:function(t){var e=t.event;return Object.prototype.hasOwnProperty.call(o,e)?-1===r(t)&&(o[t.event].push(t),!0):(o[t.event]=[t],!0)},unregister:function(t){var e=t.event;if(Object.prototype.hasOwnProperty.call(o,e))if(t.handler||t.scope||t.path){var n=r(t);-1<n&&o[e].splice(n,1)}else o[e]=[]},triggerListeners:function(r){(function(t){var e=[];switch(t.type){case i.itemType.DATA:e.push(i.dataLayerEvent.CHANGE);break;case i.itemType.EVENT:e.push(i.dataLayerEvent.EVENT),t.data&&e.push(i.dataLayerEvent.CHANGE),t.config.event!==i.dataLayerEvent.CHANGE&&e.push(t.config.event)}return e})(r).forEach(function(t){if(Object.prototype.hasOwnProperty.call(o,t)){var e,n=_createForOfIteratorHelper(o[t]);try{for(n.s();!(e=n.n()).done;){a(e.value,r,!1)}}catch(t){n.e(t)}finally{n.f()}}})},triggerListener:function(t,e){a(t,e,!0)}}}},{"../custom-lodash":1,"./constants":3,"./utils/indexOfListener":10,"./utils/listenerMatch":11}],8:[function(t,e,n){var r=t("../../custom-lodash"),o=r.has,a=r.get;e.exports=function(t,e){for(var n=e.substring(0,e.lastIndexOf("."));n;){if(o(t,n)){var r=a(t,n);if(null==r)return!0}n=n.substring(0,n.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],9:[function(t,e,n){e.exports=function(i,c){return void 0===Object.keys(c).find(function(t){var e=c[t].type,n=c[t].values,r=!c[t].optional,o=i[t],a=_typeof(o);if(r)return!o||a!==e||n&&!n.includes(o)})}},{}],10:[function(t,e,n){var u=t("../../custom-lodash").isEqual;e.exports=function(t,e){var n=e.event;if(Object.prototype.hasOwnProperty.call(t,n)){var r,o=_createForOfIteratorHelper(t[n].entries());try{for(o.s();!(r=o.n()).done;){var a=_slicedToArray(r.value,2),i=a[0],c=a[1];if(u(c.handler,e.handler))return i}}catch(t){o.e(t)}finally{o.f()}}return-1}},{"../../custom-lodash":1}],11:[function(t,e,n){var r=t("../../custom-lodash").has,a=t("../constants"),o=t("./ancestorRemoved");function i(t,e){return!e.data||!t.path||(r(e.data,t.path)||o(e.data,t.path))}e.exports=function(t,e){var n=t.event,r=e.config,o=!1;return e.type===a.itemType.DATA?n===a.dataLayerEvent.CHANGE&&(o=i(t,e)):e.type===a.itemType.EVENT&&(n!==a.dataLayerEvent.EVENT&&n!==r.event||(o=i(t,e)),e.data&&n===a.dataLayerEvent.CHANGE&&(o=i(t,e))),o}},{"../../custom-lodash":1,"../constants":3,"./ancestorRemoved":8}]},{},[4]);
//# sourceMappingURL=adobe-client-data-layer.min.js.map
